# 有关业务api的一点思考

## 说在前面

由于在测试工作中，经常会遇到很多api相关的名词，比如业务api，每个模块又有一个单独的api，如duse-api dups-api等等模块，而我所了解的也仅仅是api模块是做透传数据用的，核心逻辑都在下层的服务处理。但是，为什么每个模块都要有api层呢？是处于性能的考虑还是由于这样做有什么好处呢？开始查资料。

### 分层架构

说起各个微服务模块的开发与使用就离不开系统的分层架构。

#### 为什么需要分层？

- 高内聚：分层的设计可以简化系统设计，让不同的层专注做某一模块的事
- 低耦合：层与层之间通过接口或API来交互，依赖方不用知道被依赖方的细节
- 复用：分层之后可以做到很高的复用
- 扩展性：分层架构可以让我们更容易做横向扩展

如果系统没有分层，当业务规模增加或流量增大时我们只能针对整体系统来做扩展。分层之后可以很方便的把一些模块抽离出来，独立成一个系统。

#### 传统MVC架构

优点：关注前后端分离

缺点：模型层分层太粗，融合了数据处理、业务处理等所有的功能。核心的复杂业务逻辑都放到模型层，导致模型层很乱

适应场景：后端业务逻辑简单的服务，比如接口直接提供对数据库增删改查

